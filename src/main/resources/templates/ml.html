<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Лабораторная работа: Определение молярной массы газа</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <style>
        #lab-container {
            position: relative;
            width: 800px;
            height: 600px;
            margin: 20px auto;
            background: url('/images/background.jpg') no-repeat center center;
            background-size: cover;
            border: 1px solid #555;
            overflow: hidden;
        }

        canvas#simulationCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .panel {
            position: absolute;
            background-color: rgba(230, 230, 230, 0.85);
            border: 1px solid #aaa;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        #gas-panel {
            top: 20px;
            left: 20px;
            width: 150px;
        }

        #parameter-panel {
            top: 20px;
            right: 20px;
            width: 220px;
        }
         #parameter-panel label, #gas-panel h2 {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
         }
         #parameter-panel input {
             width: 80px;
             padding: 5px;
             margin-bottom: 8px;
             border: 1px solid #ccc;
         }
         #parameter-panel .unit {
             display: inline-block;
             margin-left: 5px;
             color: #555;
         }

         #gas-panel select {
             width: 100%;
             padding: 5px;
         }

        #control-display {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background-color: rgba(200, 200, 200, 0.9);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
         #control-display button {
             margin: 0 5px;
             padding: 8px 12px;
             cursor: pointer;
         }
         #mass-display-m1, #mass-display-m2, #molar-mass-result {
             margin-top: 10px;
             font-weight: bold;
         }

        #error-message {
             position: absolute;
             bottom: 5px;
             left: 5px;
             color: red;
             background: rgba(255,255,255,0.7);
             padding: 3px;
             border-radius: 3px;
         }

         .draggable { cursor: grab; }
         .dragging { cursor: grabbing; opacity: 0.7; }

    </style>
</head>
<body>

<h1>Определение молярной массы газа</h1>

<div id="lab-container">

    <div id="gas-panel" class="panel">
        <h2>Выберите газ:</h2>
        <select id="gasSelect" name="gasId" required>
            <option value="" disabled selected>-- Газ --</option>
            <option value="He">Гелий (He)</option>
            <option value="N2">Азот (N₂)</option>
            <option value="O2">Кислород (O₂)</option>
            <option value="Ar">Аргон (Ar)</option>
            <option value="CO2">Диоксид Углерода (CO₂)</option>
        </select>
    </div>

    <div id="parameter-panel" class="panel">
        <h2>Параметры газа:</h2>
        <div>
            <label for="T">t =</label>
            <input type="number" id="T" name="T" step="any" required value="20">
            <span class="unit">°C</span>
        </div>
        <div>
            <label for="V">V =</label>
            <input type="number" id="V" name="V" step="0.001" required value="0.003">
            <span class="unit">м³</span>
        </div>
        <div>
            <label for="P1">P₁ =</label>
            <input type="number" id="P1" name="P1" step="any" required value="101325">
            <span class="unit">Па</span>
        </div>
        <div>
            <label for="P2">P₂ =</label>
            <input type="number" id="P2" name="P2" step="any" required value="150000">
            <span class="unit">Па</span>
        </div>
    </div>

     <div id="control-display" class="panel">
         <button id="measureM1Button" title="Поместите мяч на весы">Измерить m1</button>
         <button id="pumpButton" title="Подсоедините мяч к насосу">Накачать</button>
         <button id="measureM2Button" title="Поместите мяч на весы">Измерить m2</button>
         <button id="calculateMButton">Рассчитать M</button>
         <button id="resetButton">Сброс</button>

         <div id="mass-display-m1">Начальная масса m1: - г</div>
         <div id="mass-display-m2">Конечная масса m2: - г</div>
         <div id="molar-mass-result">Молярная масса M: - г/моль</div>
     </div>

    <div id="error-message"></div>

</div>

<script src="/js/simulation_animation.js" defer></script>
<script src="/js/simulation_logic.js" defer></script>

</body>
</html>
